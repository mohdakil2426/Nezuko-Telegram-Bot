# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                     NEZUKO API BACKEND - ENVIRONMENT                          ║
# ║                                                                               ║
# ║  Copy this file to .env and fill in your values                               ║
# ║  Never commit .env to version control!                                        ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ─────────────────────────────────────────────────────────────────────────────────
# DATABASE (Required)
# ─────────────────────────────────────────────────────────────────────────────────

# PostgreSQL connection string (Production)
# Format: postgresql+asyncpg://user:password@host:port/database
# DATABASE_URL=postgresql+asyncpg://postgres:your-password@localhost:5432/nezuko

# SQLite for local development (no PostgreSQL needed)
DATABASE_URL=sqlite+aiosqlite:///../../storage/data/nezuko.db

# ─────────────────────────────────────────────────────────────────────────────────
# SUPABASE CONFIGURATION (Required for authentication)
# Get these from: https://supabase.com/dashboard/project/[your-project]/settings/api
# ─────────────────────────────────────────────────────────────────────────────────

# Your Supabase project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase service role key (SECRET - server-side only!)
# This has admin privileges - never expose to client
SUPABASE_SERVICE_ROLE_KEY=

# JWT secret for token verification
# Find in: Project Settings → API → JWT Settings → JWT Secret
SUPABASE_JWT_SECRET=

# Supabase anonymous key (for client operations)
SUPABASE_ANON_KEY=

# ─────────────────────────────────────────────────────────────────────────────────
# REDIS CACHE (Optional - graceful degradation if unavailable)
# ─────────────────────────────────────────────────────────────────────────────────

# Redis connection string
# Format: redis://[:password@]host:port/db
REDIS_URL=redis://localhost:6379/0

# ─────────────────────────────────────────────────────────────────────────────────
# APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────────────────────────

# Environment: development | staging | production
ENVIRONMENT=development

# Enable mock authentication for local development (bypasses Supabase)
# Set to 'false' in production!
MOCK_AUTH=true

# API server configuration
API_HOST=0.0.0.0
API_PORT=8080

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ─────────────────────────────────────────────────────────────────────────────────
# OBSERVABILITY (Optional)
# ─────────────────────────────────────────────────────────────────────────────────

# Sentry DSN for error tracking
# Get from: https://sentry.io/settings/[org]/projects/[project]/keys/
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Prometheus metrics port
# METRICS_PORT=9090

# ─────────────────────────────────────────────────────────────────────────────────
# SECURITY (Production only)
# ─────────────────────────────────────────────────────────────────────────────────

# Rate limiting
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_REQUESTS_PER_MINUTE=60

# API secret key (generate with: openssl rand -hex 32)
# SECRET_KEY=
